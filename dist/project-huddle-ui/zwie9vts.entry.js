const e=window.ProjectHuddleUi.h;import{a as t}from"./chunk-e3abbe69.js";class s{constructor(){this.content="",this.trigger="hover",this.placement="top",this.openDelay=0,this.closeDelay=300,this.offset="0, 20",this.visible=!1}componentWillLoad(){switch(this.reference=this.el.querySelectorAll("[slot=reference]")[0],this.closers=this.el.querySelectorAll("[ph-close-popover]"),this.slotEvents(),this.closeEvents(),this.trigger){case"hover":this.hoverEvents(),this.clickOutSide();break;case"click":this.clickEvents(),this.clickOutSide()}}componentDidLoad(){this.visible&&this.initPopper()}slotEvents(){switch(this.trigger){case"hover":this.hoverEvents(),this.clickOutSide();break;case"click":this.clickEvents(),this.clickOutSide()}}closeEvents(){for(var e=0;e<this.closers.length;e++)this.closers[e].addEventListener("click",()=>{this.visible=!this.visible})}hoverEvents(){this.reference.addEventListener("mouseenter",()=>this.handleMouseEnter()),this.reference.addEventListener("mouseleave",()=>this.handleMouseLeave())}clickEvents(){this.reference.addEventListener("click",()=>{this.visible=!this.visible})}clickOutSide(){document.addEventListener("click",e=>{e.target.closest("ph-popover")||(this.visible=!1)})}handleMouseEnter(){clearTimeout(this.timer),this.openDelay?this.timer=setTimeout(()=>{this.visible=!0},this.openDelay):this.visible=!0}handleMouseLeave(){"hover"===this.trigger&&(this.closeDelay?this.timer=setTimeout(()=>{this.visible=!1},this.closeDelay):this.visible=!1)}initPopper(){this.popper=new t(this.reference,this.bubble,{placement:this.placement,modifiers:{offset:{enabled:!0,offset:this.offset}},onCreate:()=>{this.bubble.style.visibility="visible",this.bubble.style.opacity="1"}})}watchPopperHandler(e){e?(this.show.emit(this),this.initPopper()):(this.bubble.style.visibility="hidden",this.bubble.style.opacity="0",this.hide.emit(this))}updatePopper(){this.popper.update()}render(){return e("div",{class:"ph-popover-wrapper"},e("div",{onMouseEnter:()=>this.handleMouseEnter(),onMouseLeave:()=>this.handleMouseLeave(),class:{"ph-popover popper":!0,"ph-show":this.visible},role:"tooltip",ref:e=>this.bubble=e},e("slot",null,this.content),e("div",{"x-arrow":!0})),e("slot",{name:"reference"}))}static get is(){return"ph-popover"}static get encapsulation(){return"shadow"}static get properties(){return{clickEvents:{method:!0},clickOutSide:{method:!0},closeDelay:{type:Number,attr:"close-delay"},closeEvents:{method:!0},closers:{state:!0},content:{type:String,attr:"content"},el:{elementRef:!0},handleMouseEnter:{method:!0},handleMouseLeave:{method:!0},hoverEvents:{method:!0},initPopper:{method:!0},offset:{type:String,attr:"offset"},openDelay:{type:Number,attr:"open-delay"},placement:{type:String,attr:"placement"},popper:{state:!0},reference:{state:!0},slotEvents:{method:!0},trigger:{type:String,attr:"trigger"},updatePopper:{method:!0},visible:{type:Boolean,attr:"visible",reflectToAttr:!0,mutable:!0,watchCallbacks:["watchPopperHandler"]}}}static get events(){return[{name:"show",method:"show",bubbles:!0,cancelable:!0,composed:!0},{name:"hide",method:"hide",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return":host{all:initial;font-size:16px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-family:var(--ph-body-font,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif)}.ph-popover{font-size:13px;position:absolute;overflow:visible;text-align:left;color:#51595f;max-width:400px!important;min-width:150px;display:block;padding-top:3px;background:#fff;z-index:2015;-webkit-box-shadow:0 0 0 1px rgba(35,40,45,.12),0 0 3px rgba(0,0,0,.2);box-shadow:0 0 0 1px rgba(35,40,45,.12),0 0 3px rgba(0,0,0,.2);cursor:auto;-webkit-user-select:\"text\";-moz-user-select:\"text\";-ms-user-select:\"text\";user-select:\"text\";padding:20px;border-radius:2px;visibility:hidden;opacity:0;-webkit-transition:opacity .1s,visibility .1s;transition:opacity .1s,visibility .1s}.ph-popover ::slotted(:first-child){margin-top:0}.ph-popover ::slotted(:nth-last-child(2)){margin-bottom:0}.ph-popover.ph-show{opacity:1;visibility:visible}.ph-popover-wrapper{display:inline-block}.ph-popover-wrapper:hover .ph-popover{z-index:2016}[x-arrow],[x-arrow]:after{position:absolute}[x-arrow]:after{content:\"\";width:8px;height:8px;background:#fff;-webkit-transform:translateX(-50%) translateY(-50%) rotate(45deg);transform:translateX(-50%) translateY(-50%) rotate(-45deg);top:0;left:50%;-webkit-box-shadow:0 0 0 1px rgba(35,40,45,.12),0 0 3px rgba(0,0,0,.2);box-shadow:0 0 0 1px rgba(35,40,45,.12),0 0 3px rgba(0,0,0,.2)}.ph-popover[x-placement=bottom-end] [x-arrow],.ph-popover[x-placement=bottom-start] [x-arrow],.ph-popover[x-placement=bottom] [x-arrow]{width:12px;height:12px;position:absolute;top:-12px;-webkit-transform:rotate(-180deg);transform:rotate(-180deg);overflow:hidden}.ph-popover[x-placement=top-end] [x-arrow],.ph-popover[x-placement=top-start] [x-arrow],.ph-popover[x-placement=top] [x-arrow]{width:12px;height:12px;position:absolute;bottom:-12px;overflow:hidden}.ph-popover[x-placement=left-end] [x-arrow],.ph-popover[x-placement=left-start] [x-arrow],.ph-popover[x-placement=left] div[x-arrow]{width:12px;height:12px;position:absolute;right:-12px;margin-top:6px;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);overflow:hidden}.ph-popover[x-placement=right-end] [x-arrow],.ph-popover[x-placement=right-start] [x-arrow],.ph-popover[x-placement=right] [x-arrow]{width:12px;height:12px;position:absolute;left:-12px;margin-top:6px;-webkit-transform:rotate(90deg);transform:rotate(90deg);overflow:hidden}"}}export{s as PhPopover};